* Этапы
** INPROGRESS MVP - stateless implementation
- State "INPROGRESS" from              [2020-05-08 Пт 01:27]
- State "INPROGRESS" from "TODO"       [2020-05-08 Пт 01:27]
  
*БД*: SQLite

- [X] хранение пользователей;
- [ ] хранение курсов с вложенной структурой;
- [ ] интерактивная клавиатура;
- [ ] отправка курсов с помощью коллбэков интерактивной клавиатуры;
*** Приложения и модели
- [ ] courses:
  - [ ] Branch:
    - name
    - parent
    - lessons_set
    - type
    - category (возможно позже)
    - tags (позже)
  - [ ] Document
    - name
    - lesson_id
    - link (или id, как там отправлять)
    - priority: int
** TODO Statefull implementation
- State "TODO"       from              [2020-03-22 Вс 17:30]
[[https://docs.microsoft.com/ru-ru/azure/bot-service/bot-builder-concept-state?view=azure-bot-service-4.0][Какая-то статья об управлении состоянием ботов]]
** Вопросы. Ответов [1/1]
- [X] какую БД использовать (SQL или NoSQL): SQL
* Идеи
- бот для MOOC курсов;
- статистика обучения с графиками;
- напоминания для изучения;
- загрузка своих курсов через веб морду:
  - авторизация пользователей через tg бота перед возможностью загрузки;
  - телеграмм не может 100% гарантировать сохранность данных, поэтому лучше всего будет хранить все курсы "на своей стороне";
- к курсам в будущем могут быть присвоены тэги и категории;
- конфигуратор тестов из веб морды, например;
- оценки курса;
- комментарии;
- чат изучающих;
* Задачи
** [#B] Разобраться с миграциями/ORM
*Задача*:
- не запускать миграции в рантайме;
- найти способ писать датамиграции (SQL?);
*Варианты*:
- отдельная утилита для запуска миграций БД
- запуск по ключу основного приложения

[[https://github.com/go-gormigrate/gormigrate][gormigrate]]
** [#B] CI/CD                                                         :epic:
* Журнал
** [2020-03-22 Вс] [1/1]
- [X] реализовать эхо бота с записью пользователя в БД
** [2020-05-06 Ср] - [2020-05-07 Чт] [4/4]
- [X] запустить бота через прокси;
- [X] изучить тип данных User в боте, спроектировать модель пользователя
- [X] расширить модель User в БД в соответствии с типом telebot;
- [X] обработчик команды ~/start~:
  - [X] запись пользователя в БД;
  - [X] отправка приветствия
** <2020-05-08 Пт> - ... 
- [ ] создать ветвь и лист в БД:
  - [ ] продумать поля и связи;
  - [ ] изучить создание связанных записей в gorm;
  - [ ] создать модели для "листа" и "ветви";
- [ ] загрузить тестовые файлы в тг, получить их ID, и отправлять эти файлы по простым командам.
